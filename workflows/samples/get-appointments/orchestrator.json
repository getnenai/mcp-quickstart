{
  "name": "Get Appointments",
  "workflow_id": "sample-get-appointments",
  "description": "Navigate to calendar and extract appointment slots for a given day",
  "variables": [
    {
      "name": "APPOINTMENT_DAY",
      "value": "",
      "description": "Day to retrieve appointments for (e.g., 'January 15, 2026')"
    },
    {
      "name": "PRACTICE_EMAIL",
      "value": "",
      "description": "Practice login email address"
    },
    {
      "name": "PRACTICE_PASSWORD",
      "value": "",
      "type": "password",
      "secret_id": "practice_password",
      "description": "Practice login password"
    }
  ],
  "states": [
    {
      "name": "system_ready",
      "comparison_config": {
        "strategy": "bash_command",
        "command": "whoami",
        "expected_output": "computeruse"
      }
    },
    {
      "name": "logged_in",
      "comparison_config": {
        "strategy": "vlm_similarity",
        "prompt": "Is the user logged into the application? Look for navigation sidebar or dashboard."
      }
    },
    {
      "name": "data_extracted",
      "comparison_config": {
        "strategy": "bash_command",
        "command": "test -f /artifacts/appointments.json && echo 'extracted' || echo 'not_found'",
        "expected_output": "extracted"
      }
    }
  ],
  "initial_state": {"name": "system_ready"},
  "desired_state": "data_extracted",
  "transitions": [
    {
      "name": "login_and_extract",
      "from_state": {"name": "system_ready"},
      "to_state": {"name": "data_extracted"},
      "fsm_file": "./workflow.json"
    }
  ],
  "max_global_retries": 2,
  "timeout_config": {
    "state_validation_timeout_seconds": 60,
    "state_validation_retry_interval_seconds": 10
  }
}
